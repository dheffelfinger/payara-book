<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
        <title>RESTful Web Service Client</title>

        <!-- Bootstrap -->
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" crossorigin="anonymous">

    </head>

    <div class="container" style="width: 370px !important;">
        <div id="msg">

        </div>
        <form>
            <div class="form-group">
                <button type="button" id="submitBtn" class="btn btn-primary">Submit</button>
            </div>
        </form>
    </div>
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"  crossorigin="anonymous"></script>
    <script>
        $(document).ready(function () {
            // click on button submit
            $("#submitBtn").on('click', function () {
                $.ajax({
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    crossDomain: true,
                    dataType: "json",
                    type: "GET",
                    url: "http://localhost:8080/webresources/sample"
                }).done(function (data, textStatus, jqXHR) {
                    if (jqXHR.status === 200) {
                        $("#msg").removeClass();
                        $("#msg").toggleClass("alert alert-success");
                        $("#msg").html("received the following message: " + data.msg);
                    } else {
                        $("#msg").removeClass();
                        $("#msg").toggleClass("alert alert-danger");
                        $("#msg").html("There was an error invoking the web service.");
                    }
                }).fail(function (data, textStatus, jqXHR) {
                    console.log("ajax call failed");
                    console.log("data = " + JSON.stringify(data));
                    console.log("textStatus = " + textStatus);
                    console.log("jqXHR = " + jqXHR);
                    console.log("jqXHR.status = " + jqXHR.status);
                });
            });
        });
    </script>
</body>
</html>
